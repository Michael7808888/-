# 任務三：執行測試，觀察綠燈與紅燈結果

本專案展示了如何使用單元測試來驗證程式碼的正確性，特別是觀察「綠燈」（測試通過）和「紅燈」（測試失敗）的結果。

## 專案說明

本專案實作了一個 `safe_division` 函式，用於安全地執行除法運算，並包含完整的單元測試。

### 檔案結構

- `safe_division.py` - 包含除以零處理的安全除法函式
- `test_safe_division.py` - 完整的單元測試套件
- `safe_division_without_handling.py` - 無除以零處理的版本（用於演示紅燈）
- `test_runner.py` - 自動化測試腳本，演示綠燈和紅燈結果

## 功能特點

### safe_division 函式

```python
def safe_division(a, b):
    """
    安全除法函式，處理除以零的情況
    
    參數:
        a (float/int): 被除數
        b (float/int): 除數
    
    返回:
        float: 除法結果，如果除數為零則返回 None
    """
    if b == 0:
        return None
    return a / b
```

### 測試案例

測試套件包含以下測試案例：

1. **正常數值相除** - 測試基本的除法運算
2. **負數相除** - 測試負數的各種組合
3. **被除數為零** - 測試 0 除以任何數的情況
4. **除以零** - 測試除數為零的情況（關鍵測試）
5. **浮點數相除** - 測試小數點運算
6. **邊界值** - 測試極端情況

## 執行測試

### 方法一：執行完整的綠燈/紅燈演示

```bash
python3 test_runner.py
```

此腳本會自動執行：
1. 綠燈測試：使用完整的 safe_division 函式
2. 紅燈測試：使用無除以零處理的版本
3. 顯示詳細的測試結果和總結

### 方法二：直接執行單元測試

```bash
python3 -m unittest test_safe_division.py -v
```

## 測試結果

### 🟢 綠燈（通過）結果

執行 Copilot 生成的單元測試後，所有預期的測試案例都通過，顯示為綠燈：

```
test_boundary_values ... ok
test_division_by_zero ... ok
test_float_division ... ok
test_negative_division ... ok
test_normal_division ... ok
test_zero_dividend ... ok

----------------------------------------------------------------------
Ran 6 tests in 0.000s

OK
```

**說明**：
- 所有測試案例（正常數值相除、負數相除、邊界值相除）都通過
- `safe_division` 函式能正確處理各種情境
- 特別是能妥善處理除以零的狀況，使程式不會當機
- 當除數為 0 時，函式返回 `None` 而不是拋出錯誤

### 🔴 紅燈（失敗）結果

當將 `safe_division` 函式中的「處理除以零」的程式碼註解或刪除後，再次執行單元測試，結果出現紅燈：

```
test_division_by_zero ... ERROR

======================================================================
ERROR: test_division_by_zero
----------------------------------------------------------------------
Traceback (most recent call last):
  File "test_safe_division.py", line 32, in test_division_by_zero
    self.assertIsNone(safe_division(10, 0))
ZeroDivisionError: division by zero

----------------------------------------------------------------------
Ran 6 tests in 0.001s

FAILED (errors=1)
```

**說明**：
- 針對除以零的單元測試失敗
- 程式直接丟出 `ZeroDivisionError`，未被妥善處理
- 其他測試案例仍然通過，只有除以零的測試失敗
- 這證明了單元測試能有效檢測程式碼中缺失的錯誤處理

## 結論

透過這個任務，我們可以觀察到：

1. **綠燈的意義**：當程式碼正確實作所有功能時，所有測試都會通過，這給予我們信心程式碼能正常運作。

2. **紅燈的意義**：當程式碼缺少關鍵的錯誤處理（如除以零的處理）時，相關的測試會失敗，及時提醒我們需要修正。

3. **測試的價值**：單元測試能有效地：
   - 驗證程式碼的正確性
   - 及早發現潛在問題
   - 確保錯誤處理機制有效
   - 防止程式在執行時崩潰

## 學習重點

- 瞭解 TDD（測試驅動開發）的基本概念
- 學習如何撰寫全面的單元測試
- 理解綠燈和紅燈在測試中的意義
- 認識到錯誤處理的重要性
- 體會單元測試在軟體開發中的價值